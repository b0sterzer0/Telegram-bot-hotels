В данном файле находится руководство по эксплуатации скрипта и бота.

_Структура скрипта:_
* **.env.template** - шаблон, по которому необходимо создать файл .env с токеном бота и ключом к API


* Файл **main.py** является основным. Он получает все сообщения от пользователя и далее действует по скрипту в зависимости
от команды.
   main.py получает и обрабатывает следующие команды: start, help, lowprice, highprice, bestdeal, history.
В файле реализованы следующие функции: 
  * say_hi - выводит приветственное сообщение
  * help_func - по запросу выводит функционал бота
  * lowprice_func - принимает команду lowprice, сохраняет название команды, спрашивает у пользователя место поиска и
  переходит к следующему шагу в handlers.py
  * highprice_func - принимает команду highprice, сохраняет название команды, устанавливает флаг,
  спрашивает у пользователя место поиска и
  переходит к следующему шагу в handlers.py
  * bestdeal_func - принимает команду bestdeal, сохраняет название команды, спрашивает у пользователя ценовой диапазон и
  переходит к следующему шагу в handlers.py
  * history_func - принимает команду history, после чего вызывает функцию из модуля history.py. Выводит пользователю
  историю поиска отелей
  * answer - обработчик ответа пользователя, нужны ли ему фото, который задается в handlers.py. Если ответ положительный,
  то запрашивает кол-во фото и вызывает функцию photo_answer_yes_func из handlers.py.
  Если ответ отрицательный, то получает от генератора main_generator (commands.py) информацию об отеле,
  после чего выводит ее пользователю
  
  В конце, после вывода информации, скрипт удаляет все сохраненные данные


* handlers.py - модуль, в котором реализованы пошаговые обработчики. Реализация представлена в виде класса. Аргументы
класса - основные данные, которые необходимо сохранить и они используются на протяжении всего скрипта. Структура
handlers.py:
    * Метод price_range - вызывается из функции bestdeal_func (main.py). Получает от пользователя ценовой диапазон 
  (в рублях), после чего разбивает его на две цифры по шаблону, преобразует их с помощью функции currency_converter
      (custom_requests.py) в доллары США, после чего сохраняет. В конце спрашивает у пользователя диапазон расстояния
  от центра и переходит к методу distance_range
    * Метод distance_range - вызывается из метода price_range. Получает от пользователя диапазон расстояния от центра
      (в метрах), после чего преобразует данные в мили и сохраняет. В конце спрашивает у пользователя местность поиска
  и переходит к методу get_city
    * Метод get_city - вызывается из main.py или из метода distance_range. Получает от пользователя местность для
  поиска в формате Город, Страна (на русском), после чего переводит это на английский и сохраняет. В конце 
  спрашивает у пользователя необходимое кол-во отелей и переходит к методу get_num_hotels.
    * Метод get_num_hotels - вызывается из метода get_city. Получает кол-во отелей и сохраняет число. В конце спрашивает
  у пользователя нужно ли выводить фото отелей (в формате InlineMarkup), после чего переходит к функции answer 
  (main.py)
    * Метод photo_answer_yes_func - вызывается из answer (main.py) в случае, если ответ пользователя о необходимости
  фото был положительным. Вызывает функцию main_generator (commands.py), из получаемой информации составляет строку,
  запрашивает из get_photos (custom_requests.py) фото отеля, после чего отправляет результат пользователю в формате
  MediaGroup. После всего удаляет сохраненную в атрибутах класса информацию
  

* commands.py - модуль, в котором реализованы получение и обработка информации об отелях. Структура commands.py:
    * Генератор main_generator - основная часть модуля. Из него вызываются остальные функции модуля. В зависимости от
  полученного названия команды, вызывает функции lowprice_and_highprice_func или bestdeal_func. В конце для каждого
  отеля формирует информацию в виде списка, содержащего словарь (данные о самом отеле) и id отеля, который может
  понадобиться для поиска фото
    * Функция get_data - вызывается из функций lowprice_and_highprice_func или bestdeal_func. Реализует 2 вызова
  custom_requests.py (1.получение id местности поиска 2.получение отелей из данной местности)
    * Функция lowprice_and_highprice_func - вызывается из генератора main_generator. В зависимости от того, какая
  команда была передана, ищет самых дорогие или самые дешевые отели.
    * Функция bestdeal_func - вызывается из main_generator. Ищет отели, подходящие по заданным критериям


* custom_requests - модуль, в котором объединены все запросы к API. Структура реализована в виде класса с одним
атрибутом - данными для подключения к API. Структура custom_requests:
    * Метод req_to_api - реализует любой запрос к API. Необходима передача параметров запроса и url запроса.
  Если запрос успешный, преобразует полученные данные в формат json
    * Метод get_photos - реализует получение фото из API. Получает фото, после чего прикрепляет к ним описание отеля
    * Метод currency_converter - конвертирует рубли в доллары и наоборот по текущему курсу ЦБ
  

* peewee_models.py - модуль, в котором прописана модель для ORM peewee


* history.py - реализует подключение к базе данных и добавление в нее данных. Используется ORM peewee.
Структура history.py:
    * Функция start_db - создание таблицы или, если она существует, ее очищение от старых данных
    * Функция add_instance - добавление данных в таблицу (название команды-дата и время-найденные отели)
    * Генератор get_history_data_generator - извлечение данных из базы данных и их обработка
